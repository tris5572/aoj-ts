# 概要

このリポジトリは、AOJ (Aizu Online Judge) を TypeScript で解くための環境を整備したものです。これにより、書籍『プログラミングコンテスト攻略のためのアルゴリズムとデータ構造』（いわゆる「螺旋本」）を TypeScript で解けます。

前提として、**Windows に Node.js がインストールされた環境**で実行可能となっています。

# 使い方

このリポジトリを `git clone` してから `npm i` により必要なモジュールをダウンロードしてください。

コードを記述し、テスト用データを当該ディレクトリの `testx.txt` へ配置します。（適宜、コード内のテスト用データのファイル名を変更してください）

以下のコマンドにより、コードをローカルでトランスパイル/テスト実行します。

`npm run test src/<コードがあるフォルダ>/<拡張子なしのファイル名>`

例えば、`npm run test src/alds1/1_d/script` のようにします。これにより生成された `script.js` を AOJ で提出できます。

# （参考）仕組み

## 基本的な動作

AOJでは使用できるプログラミング言語やバージョンが限られるため、TypeScript で記述された`.ts`ファイルを、古い規格の`.js`ファイルへ変換しています。

## テスト用データの扱い

テスト用のデータを実行時の標準入力からそのまま渡すのではなく、テキストファイルに記載した内容を実行時に読み込む動作としています。

これは、Windows では End-of-File を入力できないためです。標準入力を終了するために、ファイルからデータを読み込む必要があります。（*nixであれば、Ctrl-D により入力可能なのでこのような小細工は不要です）

## ダミーのexport

複数のファイルで同じ変数名をトップレベルで使用するため、各ファイルでダミーの `export` を記載しています。

TypeScriptファイルにおいて、トップレベルで宣言された変数はグローバル名前空間に所属することになります。そのため、他のファイルにも同名の変数が存在する場合、名前が競合してエラーになってしまうため、その対策です。
